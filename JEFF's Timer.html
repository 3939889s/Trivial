<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head> 
<meta charset="UTF-8" content="text/html/">
<title>JEFF's Timer</title>
</head> 
<body> 
<button id="TimeNowbt" onclick="javascript:  clearInterval(countdownid);clearInterval(timenowid);clearInterval(timerid);  InitialTime(); clock(); hideAll('timenow');" >
現在時刻 TimeNow
</button>
<button id="CountDownbt" onclick="javascript: clearInterval(countdownid);clearInterval(timenowid);clearInterval(timerid); show('CountDownInput'); hideAll('countdown');" >
倒數計時 CountDown
</button>
<button id="Timerbt" onclick="javascript: clearInterval(countdownid);clearInterval(timenowid);clearInterval(timerid);show('TimerInput'); hideAll('timer');" >
碼表計時 Timer
</button>
<button id="Reloadbt" onclick="javascript: location.reload();" >
重新載入 Reload
</button>

<!--TIMENOW顯示-->
<div id="timenow">
	<div id="timenowh">00</div>
	<div class="sep1">:</div>
	<div id="timenowm">00</div>
	<div class="sep2">:</div> 
	<div id="timenows">00</div>
	<div id="timenowdate"></div>
	<!--TIMENOW Clock顯示-->

	<div style="width:120px;height:100px;position:relative;left:158px;top:530px; font-size:300px;" >
	<div id="dig1" class="dig" style="top: -49.823017416293006px; left: 5.681398782214497px;">1</div>
	<div id="dig2" class="dig" style="top: -35.22322574975618px; left: 20.51117413642136px;">2</div>
	<div id="dig3" class="dig" style="top: -15.149561067984727px; left: 25.99972039260954px;">3</div>
	<div id="dig4" class="dig" style="top: 4.964585696333941px; left: 20.661438486793045px;">4</div>
	<div id="dig5" class="dig" style="top: 19.67486622013351px; left: 5.941255041141314px;">5</div>
	<div id="dig6" class="dig" style="top: 24.99961068465482px; left: -14.17647967601978px;">6</div>
	<div id="dig7" class="dig" style="top: 19.497556682108367px; left: -34.24644618111337px;">7</div>
	<div id="dig8" class="dig" style="top: 4.657959453254431px; left: -48.83625453653427px;">8</div>
	<div id="dig9" class="dig" style="top: -15.50250869487137px; left: -53.9968434380962px;">9</div>
	<div id="dig10" class="dig" style="top: -35.526961509992724px; left: -48.3313828904004px;">10</div>
	<div id="dig11" class="dig" style="top: -49.995328363127186px; left: -33.37335780800288px;">11</div>
	<div id="dig12" class="dig" style="top: -54.99141883678707px; left: -13.171495672508438px;">12</div>

	<div id="hour1" class="hour" ></div>
	<div id="hour2" class="hour" ></div>
	<div id="hour3" class="hour" ></div>
	<div id="hour4" class="hour" ></div>

	<div id="min1" class="min" ></div>
	<div id="min2" class="min" ></div>
	<div id="min3" class="min" ></div>
	<div id="min4" class="min" ></div>
	<div id="min5" class="min" ></div>

	<div id="sec1" class="sec" ></div>
	<div id="sec2" class="sec" ></div>
	<div id="sec3" class="sec" ></div>
	<div id="sec4" class="sec" ></div>
	<div id="sec5" class="sec" ></div>
	<div id="sec6" class="sec" ></div>
	<!--END TIMENOW Clock顯示-->
</div>
</div>
<!--END TIMENOW顯示-->

<!--=======================================================================================--> 
<!--COUNTDOWN顯示-->
<div id="countdown">
	<div id="CountDownInput">倒數分秒
		<input id="m" type="text" maxlength="3" size="3"></input>:&nbsp;
		<input id="s" type="text" maxlength="2" size="2"></input>
		<button type="button" onclick="hide('CountDownInput');check();">倒數開始GO</button>
	</div>
	<p></p>
	<div id="countdownm">00</div> <div class="sep">:</div> <div id="countdowns">00</div> 
</div>
<!--END COUNTDOWN顯示-->


<!--=======================================================================================-->
<!--TIMER顯示-->
<div id="timer">
	<div id="TimerInput"><center>	
		<p><button type="button" onclick="timerinitial();hide('TimerInput');show('Timesplit');">計時開始GO</button></p>		
	</div>
	<div id="Timesplit"><center>	
		<p><button type="button" onclick="timersplit();">分段計時Split</button></p></center>
	</div>
	<p></p>
	<div id="timerm">00</div> <div class="sep1">:</div> <div id="timers">00</div> <div class="sep2">:</div> <div id="timerss">00</div>
</div>
<!--END TIMER顯示-->
<div id="div"></div></iframe>
</body> 
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<script type="text/javascript">
window.onload = function()
{
   clearInterval(countdownid);clearInterval(timenowid);clearInterval(timerid);  InitialTime(); clock(); hideAll('timenow');
}
function show(id){ 
	 document.getElementById(id).style.display = "block";
     
}function hide(id){ 
	 document.getElementById(id).style.display = "none";
}function hideAll(id){	
		//countdown
		//timenow		 
	 document.getElementById('timenow').style.display = "none";
	 document.getElementById('countdown').style.display = "none";
	 document.getElementById('timer').style.display = "none";
	  document.getElementById('Timesplit').style.display = "none";
	 document.getElementById(id).style.display = "block";
}function clear(){ 	
	 clearInterval(countdownid);
	 clearInterval(timenowid);
}
</script>
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--TIMENOW CLOCK-->
<script>
<!-- Standard Scroll Clock by kurt.grigg@virgin.net
var H='....';
var H=H.split('');
var M='.....';
var M=M.split('');
var S='......';
var S=S.split('');
var Ypos=0;
var Xpos=0;
var Ybase=6;
var Xbase=6;
var dots=12;

function clock(){
var time=new Date ();
var secs=time.getSeconds();
var sec=-1.57 + Math.PI * secs/30;
var mins=time.getMinutes();
var min=-1.57 + Math.PI * mins/30;
var hr=time.getHours();
var hrs=-1.57 + Math.PI * hr/6 + Math.PI*parseInt(time.getMinutes())/360;
for (i=0; i < dots; ++i){
document.getElementById("dig" + (i+1)).style.top=0-15+40*Math.sin(-0.49+dots+i/1.9).toString() + "px";
document.getElementById("dig" + (i+1)).style.left=0-14+40*Math.cos(-0.49+dots+i/1.9).toString() + "px";
}
for (i=0; i < S.length; i++){
document.getElementById("sec" + (i+1)).style.top =Ypos+i*Ybase*Math.sin(sec).toString() + "px";
document.getElementById("sec" + (i+1)).style.left=Xpos+i*Xbase*Math.cos(sec).toString() + "px";
}
for (i=0; i < M.length; i++){
document.getElementById("min" + (i+1)).style.top =Ypos+i*Ybase*Math.sin(min).toString() + "px";
document.getElementById("min" + (i+1)).style.left=Xpos+i*Xbase*Math.cos(min).toString() + "px";
}
for (i=0; i < H.length; i++){
document.getElementById("hour" + (i+1)).style.top =Ypos+i*Ybase*Math.sin(hrs).toString() + "px";
document.getElementById("hour" + (i+1)).style.left=Xpos+i*Xbase*Math.cos(hrs).toString() + "px";
} 
setTimeout('clock()',50);
}
//-->
</script>
<!--END TIMENOW CLOCK-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--TIMENOW-->
<script type="text/javascript">
var timenowid,d,D,M,Y,hh,mm,ss;
function InitialTime(){
	
	 d = new Date();
	 W = d.get
     D = d.getDate();
     M = d.getMonth() + 1; //Months are zero based
     Y = d.getFullYear();
	 hh = d.getHours();	
	 mm = d.getMinutes();	
	 ss = d.getSeconds();	
	 	
	 var weekday=new Array(7);
	 weekday[0]="Sunday";
	 weekday[1]="Monday";
	 weekday[2]="Tuesday";
	 weekday[3]="Wednesday";
	 weekday[4]="Thursday";
	 weekday[5]="Friday";
	 weekday[6]="Saturday";
	 var n = weekday[d.getDay()];
	 
	 document.getElementById("timenowdate").innerHTML = Y+"-"+M+"-"+D+"<br>"+n;
	 
	 	 
	if(hh<10){
		document.getElementById("timenowh").innerHTML ="0"+hh;	
	}else{
		document.getElementById("timenowh").innerHTML =hh;
	}if(mm<10){
		document.getElementById("timenowm").innerHTML ="0"+mm;	
	}else{
		document.getElementById("timenowm").innerHTML =mm;
	}if(ss<10){
		document.getElementById("timenows").innerHTML ="0"+ss;	
	}else{
		document.getElementById("timenows").innerHTML =ss;	
	}
	
	
	
	
	timenowid=window.setInterval(function(){Time()}, 1000);
	
}function Time(){
     d = new Date();
	 hh = d.getHours();	
	 mm = d.getMinutes();	
	 ss = d.getSeconds();
	
	if(hh<10){
		document.getElementById("timenowh").innerHTML ="0"+hh;	
	}else{
		document.getElementById("timenowh").innerHTML =hh;
	}if(mm<10){
		document.getElementById("timenowm").innerHTML ="0"+mm;	
	}else{
		document.getElementById("timenowm").innerHTML =mm;
	}if(ss<10){
		document.getElementById("timenows").innerHTML ="0"+ss;	
	}else{
		document.getElementById("timenows").innerHTML =ss;	
	}
	
	//document.getElementById("a").innerHTML= Y+"-"+M+"-"+D+" "+hh+":"+mm+":"+ss;
}
</script>
<!--END TIMENOW-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->


<!--COUNTDOWN-->
<script type="text/javascript">
var countdownnumberm;
var countdownnumbers;
var countdownid;
var x,y;
function countdowninitial(){
  x=document.getElementById("countdownm");
  y=document.getElementById("countdowns");  

  if(countdownnumberm<10){x.innerHTML="0"+countdownnumberm;}
  else{ x.innerHTML=countdownnumberm;}
  if(countdownnumbers<10){y.innerHTML="0"+countdownnumbers;}
  else{ y.innerHTML=countdownnumbers;}
 
  /*x.innerHTML=countdownnumberm;
  y.innerHTML=countdownnumbers;*/
  
  countdownnumbers--;
  countdownid=window.setInterval(function(){countdownfunc()},1000);
}
function countdownfunc(){ 
  x=document.getElementById("countdownm");
  y=document.getElementById("countdowns");
  if(countdownnumbers<0){countdownnumbers=59;countdownnumberm--;}
 
  if(countdownnumberm<10){x.innerHTML="0"+countdownnumberm;}
  else{ x.innerHTML=countdownnumberm;}
  if(countdownnumbers<10){y.innerHTML="0"+countdownnumbers;}
  else{y.innerHTML=countdownnumbers;} 
  
  /*x.innerHTML=countdownnumberm;
  y.innerHTML=countdownnumbers;*/
  
  if (countdownnumberm<0){

	countdownnumberm="00";
	countdownnumbers="00";
	x.innerHTML=countdownnumberm;
	y.innerHTML=countdownnumbers;
	window.clearInterval(countdownid);	
    alert("倒數結束 Countdown Over");
    window.location = self.location;
	
  }
  countdownnumbers--;
  
}function check(){   
  var m=parseInt(document.getElementById("m").value);
  var s=parseInt(document.getElementById("s").value);
  
  clear1();
  
  if(!isNaN(m)&&!isNaN(s)){
	if(s<61&&s>=0&&m>=0){ 
		countdownnumberm=m;
		countdownnumbers=s;
		 countdowninitial();
	}
	else{
		alert('Please reset countdown timer1');
	}
  }
  else if(isNaN(m)&&!isNaN(s)){
	if(s<61&&s>=0){ 
		countdownnumberm=0;
		countdownnumbers=s;
		countdowninitial();
	}
	else{
		alert('Please reset countdown timer1');
	}
  }else if(isNaN(s)&&!isNaN(m)){
	if(m>=0){ 
		countdownnumberm=m;
		countdownnumbers=0;
		initial();
	}
	else{
		alert('Please reset countdown timer2');
	}
  }else{
	alert('Please reset countdown timer3');
  }
  
}function clear1(){ 
	 document.getElementById("m").value='';
     document.getElementById("s").value='';	
}
</script>
<!--END COUNTDOWN-->

<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->
<!--///////////////////////////////////////////////////////-->

<!--TIMER-->
<script type="text/javascript">
var timerm;
var timers;
var timerss;
var timerid;
var x,y,z;
function timerinitial(){
  timerm=0;
  timers=0;
  timerss=0;
  x=document.getElementById("timerm");
  y=document.getElementById("timers");
  z=document.getElementById("timerss");
  timerss++;  
  timerid=window.setInterval(function(){timerfunc()},10);
}
function timerfunc(){ 
  if(timerss==99){timerss=0;timers++;}
  if(timers==59){timers=0;timerm++;}
 
  if(timerm<10){x.innerHTML="0"+timerm;}
  else{ x.innerHTML=timerm;}
  if(timers<10){y.innerHTML="0"+timers;}
  else{y.innerHTML=timers;} 
  if(timerss<10){z.innerHTML="0"+timerss;}
  else{z.innerHTML=timerss;}   
   timerss++;  
}
var tsid=1;
var timermhistory=0;
var timershistory=0;
var timersshistory=0;
function timersplit(){
  var ccc="";
  
  if(timerm<10){ccc+="0"+timerm+" : ";}
  else{ ccc+=timerm+" : ";}
  
  if(timers<10){ccc+="0"+timers+" : ";}
  else{ ccc+=timers+" : ";} 
  
  if(timerss<10){ccc+="0"+timerss+"<br>";}
  else{ ccc+=timerss;}     
   
  var ttimerm=timerm*6000;
  var ttimers=timers*100;
  var ttimerss=timerss+ttimerm+ttimers;
  
  /*ttimers=Math.floor(ttimerss/100);
  ttimerm=Math.floor(ttimers/60);
  ttimers-= (60*ttimerm);
  ttimerss-=(ttimerm*6000+ttimers*100);*/
  
  var tmhiss = timermhistory*6000+timershistory*100+timersshistory;
  var diffss =ttimerss-tmhiss;
  
  var timersdifference=Math.floor(diffss/100);
  var timermdifference=Math.floor(timersdifference/60);
  timersdifference-=(60*timermdifference);
  var timerssdifference=diffss-(6000*timermdifference+timersdifference*100) ;
  
  
  var ddd="("+timermdifference+":"+timersdifference+":"+timerssdifference+")";
  
  writeToIFrame(tsid+") "+ccc+" "+ddd);
 
	
  timermhistory=timerm;
  timershistory=timers;
  timersshistory=timerss;
  
  tsid++;
}

function writeToIFrame(ccc) { 
	var iframe = document.createElement("iframe"); 
	var div = document.getElementById("div"); 
	div.appendChild(iframe); 
	var doc = null; 
	if(iframe.contentDocument) 
	doc = iframe.contentDocument; 
	else if(iframe.contentWindow) 
	doc = iframe.contentWindow.document; 
	doc.open(); 
	doc.write(ccc); 
	doc.close(); 
} 
</script>

<style type="text/css">
#CountDownbt{background-color:#ffeeaa;position:absolute; top:10px; left:180px; width:140px; font-size:24px;}
#countdown{display:none;}
#CountDownInput{position:absolute; top:90px; background-color:#ddeeaa; border-style:outset; border-color:white;}
#countdownm{position:absolute; top:130px; left:50px; font-size:300px;}
#countdowns{position:absolute; top:130px; left:550px; font-size:300px;}
#TimeNowbt{background-color:#ffeeaa;position:absolute; top:10px; left:10px; width:140px; font-size:24px;}
#timenow{display:none;}
#timenowh{position:absolute; top:130px; left:10px; font-size:300px;}
#timenowm{position:absolute; top:130px; left:360px; font-size:300px;}
#timenows{position:absolute; top:130px; left:750px; font-size:300px;}
#timenowdate{position:absolute; top:480px; left:400px; width:300px; font-size:40px; text-align:center; background-color:#C0C0C0; border-style:groove;}
.sep{position:absolute; top:150px; left:480px;	font-size:200px;}
.sep1{position:absolute; top:200px; left:340px;	font-size:120px;}
.sep2{position:absolute; top:200px; left:710px;	font-size:120px;}
#Timerbt{background-color:#ffeeaa;position:absolute; top:10px; left:350px; width:140px; font-size:24px;}
#TimerInput{position:absolute; top:90px; left:350px; width:140px; background-color:#bbeeaa; border-style:outset; border-color:white;}
#Timesplit{display:none; position:absolute; top:90px; left:350px; width:140px; background-color:#bbeeaa; border-style:outset; }
#timer{display:none;}
#timerm{position:absolute; top:150px; left:10px; font-size:300px;}
#timers{position:absolute; top:150px; left:380px; font-size:300px;}
#timerss{position:absolute; top:350px; left:830px; font-size:100px;}
#Reloadbt{background-color:#ffeeaa;position:absolute; top:10px; left:520px; width:140px; font-size:24px;}
#div{position:absolute; top:430px; left:350px; }
iframe{height:60px; width:150px; background-color:#1589FF; word-wrap: break-word; word-break: normal;}
</style>
<style type="text/css">
/*for clock*/
div.dig, div.hour, div.min, div.sec
{position:absolute;}
div.hour, div.min, div.sec
{width:2px;	height:2px;	font-size:2px;}
div.dig
{width:30px;height:30px;font-family:arial,verdana,sans-serif;font-size:10px;color:#000000;text-align:center;padding-top:10px}
div.min
{background:#0000FF;}
div.hour{background:#000000;}
div.sec{background:#FF0000;}
</style>
<!--END TIMER-->
</html>
